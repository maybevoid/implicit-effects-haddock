<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span>
</span><a name="line-2"></a><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Control.Effect.Implicit.Base.EffSpec</span><span>
</span><a name="line-3"></a><span>  </span><span class="hs-special">(</span><span> </span><a href="Control.Effect.Implicit.Base.EffSpec.html#EffSpec"><span class="hs-identifier hs-type">EffSpec</span></a><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span>
</span><a name="line-4"></a><span>  </span><span class="hs-special">)</span><span>
</span><a name="line-5"></a><span class="hs-keyword">where</span><span>
</span><a name="line-6"></a><span>
</span><a name="line-7"></a><span class="hs-keyword">import</span><span> </span><span class="hs-identifier">Data.Kind</span><span>
</span><a name="line-8"></a><span>
</span><a name="line-9"></a><span class="hs-keyword">class</span><span> </span><a name="EffSpec"><a href="Control.Effect.Implicit.Base.EffSpec.html#EffSpec"><span class="hs-identifier">EffSpec</span></a></a><span> </span><span class="hs-special">(</span><a name="local-6989586621679027165"><a href="#local-6989586621679027165"><span class="hs-identifier">sig</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-identifier hs-type">Type</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><a name="line-10"></a><span>
</span><a name="line-11"></a><span>  </span><span class="hs-comment">-- | The operation type for @ops@ is consumed by computations to</span><span>
</span><a name="line-12"></a><span>  </span><span class="hs-comment">-- perform effect operations. The type is indexed by an 'Effect' type</span><span>
</span><a name="line-13"></a><span>  </span><span class="hs-comment">-- @eff@ that indicates under which monad can the operations be performed.</span><span>
</span><a name="line-14"></a><span>  </span><span class="hs-comment">-- @'Operation' ops@ must be an 'EffFunctor' to lift effect operations</span><span>
</span><a name="line-15"></a><span>  </span><span class="hs-comment">-- to work on any lifted monad. This is similar to how lifting works</span><span>
</span><a name="line-16"></a><span>  </span><span class="hs-comment">-- in MonadTrans, except here we are lifting the operations manually</span><span>
</span><a name="line-17"></a><span>  </span><span class="hs-comment">-- instead of through typeclasses.</span><span>
</span><a name="line-18"></a><span>  </span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><a name="Operation"><a href="Control.Effect.Implicit.Base.EffSpec.html#Operation"><span class="hs-identifier">Operation</span></a></a><span> </span><a name="local-6989586621679027165"><a href="#local-6989586621679027165"><span class="hs-identifier">sig</span></a></a><span>
</span><a name="line-19"></a><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679027166"><a href="#local-6989586621679027166"><span class="hs-identifier">ops</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Type</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Type</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Type</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">ops</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">sig</span><span>
</span><a name="line-20"></a><span>
</span><a name="line-21"></a><span>  </span><span class="hs-comment">-- | The co-operation type for @ops@ is produced by computations when</span><span>
</span><a name="line-22"></a><span>  </span><span class="hs-comment">-- they perform effect operations under a free monad, and is used by</span><span>
</span><a name="line-23"></a><span>  </span><span class="hs-comment">-- effect interpreters such as 'Control.Effect.Implicit.Free.CoOpHandler'</span><span>
</span><a name="line-24"></a><span>  </span><span class="hs-comment">-- to interpret effect operations from a free monad. @'CoOperation ops'@</span><span>
</span><a name="line-25"></a><span>  </span><span class="hs-comment">-- must be a functor so that we can use it as the payload type in free</span><span>
</span><a name="line-26"></a><span>  </span><span class="hs-comment">-- monads such as 'Control.Effect.Implicit.Free.ChurchMonad' or</span><span>
</span><a name="line-27"></a><span>  </span><span class="hs-comment">-- 'Control.Effect.Implicit.Free.FreeMonad'</span><span>
</span><a name="line-28"></a><span>  </span><span class="hs-keyword">type</span><span> </span><span class="hs-keyword">family</span><span> </span><a name="CoOperation"><a href="Control.Effect.Implicit.Base.EffSpec.html#CoOperation"><span class="hs-identifier">CoOperation</span></a></a><span> </span><a name="local-6989586621679027165"><a href="#local-6989586621679027165"><span class="hs-identifier">sig</span></a></a><span>
</span><a name="line-29"></a><span>    </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">(</span><a name="local-6989586621679027167"><a href="#local-6989586621679027167"><span class="hs-identifier">coop</span></a></a><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier hs-type">Type</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier hs-type">Type</span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span class="hs-identifier">coop</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">sig</span><span>
</span><a name="line-30"></a><span>
</span><a name="line-31"></a></pre></body></html>